{"version":3,"sources":["item.service.ts"],"names":[],"mappings":"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","file":"item.service.js","sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { Http, Response, Headers, RequestOptions } from \"@angular/http\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Item } from \"./item\";\r\n\r\n@Injectable()\r\nexport class ItemService {\r\n    constructor(private http: Http) { }\r\n    private baseUrl = \"api/items/\"; // web api URL\r\n    // calls the [GET] /api/items/GetLatest/{n} Web API method to retrieve\r\n    //the latest items.\r\n    getLatest(num?: number) {\r\n        var url = this.baseUrl + \"GetLatest/\";\r\n        if (num != null) { url += num; }\r\n        return this.http.get(url)\r\n            .map(response => response.json())\r\n            .catch(this.handleError);\r\n    }\r\n    //calls the [POST] /api/items/ Web API method to add a new item.\r\n    add(item: Item) {\r\n        var url = this.baseUrl\r\n        if (item != null) {\r\n            return this.http.post(url, JSON.stringify(item),\r\n                this.getRequestOptions())\r\n                .map(response => response.json())\r\n                .catch(this.handleError);\r\n        }\r\n    }\r\n    // calls the [PUT] /api/items/{id} Web API method to update an existing item\r\n    update(item: Item) {\r\n        var url = this.baseUrl + item.Id;\r\n        return this.http.put(url, JSON.stringify(item),\r\n            this.getRequestOptions())\r\n            .map(response => response.json())\r\n            .catch(this.handleError);\r\n    }\r\n    // calls the [DELETE] /api/items/{id} Web API method to delete the item\r\n    //with the given id.\r\n    delete(id: number) {\r\n        var url = this.baseUrl + id;\r\n        return this.http.delete(url)\r\n            .catch(this.handleError);\r\n    }\r\n    // calls the [GET] /api/items/GetMostViewed/{n} Web API method to\r\n    //retrieve the most viewed items.\r\n    getMostViewed(num?: number) {\r\n        var url = this.baseUrl + \"GetMostViewed/\";\r\n        if (num != null) { url += num; }\r\n        return this.http.get(url)\r\n            .map(response => response.json())\r\n            .catch(this.handleError);\r\n    }\r\n    // calls the [GET] /api/items/GetRandom/{n} Web API method to retrieve\r\n    //n random items.\r\n    getRandom(num?: number) {\r\n        var url = this.baseUrl + \"GetRandom/\";\r\n        if (num != null) { url += num; }\r\n        return this.http.get(url)\r\n            .map(response => response.json())\r\n            .catch(this.handleError);\r\n    }\r\n    // calls the [GET] /api/items/{id} Web API method to retrieve the item\r\n    //with the given id.\r\n    get(id: number) {\r\n        if (id == null) { throw new Error(\"id is required.\"); }\r\n        var url = this.baseUrl + id;\r\n        return this.http.get(url)\r\n            .map(res => <Item>res.json())\r\n            .catch(this.handleError);\r\n    }\r\n\r\n    // returns a viable RequestOptions object to handle Json requests\r\n    getRequestOptions() {\r\n        return new RequestOptions({\r\n            headers: new Headers({ \"Content-Type\": \"application/json\" })\r\n        });\r\n    }\r\n\r\n    handleError(error: Response) {\r\n        // output errors to the console.\r\n        console.error(error);\r\n        return Observable.throw(error.json().error || \"Server error\");\r\n    }\r\n}"]}